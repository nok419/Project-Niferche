# oldsetディレクトリのテスト関連メモ

## 現状分析

oldsetディレクトリには旧コードベースがあり、現在は新しいフォルダ構造への移行過程にあります。この段階でのテスト方法について検討します。

## テスト環境の構築案

oldsetディレクトリのコードをそのままテストするためには、以下のような対応が必要となります：

1. **エントリーポイントの修正**
   - `src/main.tsx`を作成し、oldsetの主要コンポーネントを使用する形に変更
   - インポートパスの修正（例：`import App from './oldset/App'`）

2. **依存関係の解決**
   - oldsetディレクトリ内のインポートパスをすべて修正する必要があり、非効率的

3. **部分的なテスト**
   - 特定のコンポーネントだけをテストするために、単純なテスト用ファイルを作成

## 結論：段階的なリファクタリングの推奨

oldsetディレクトリの既存コードをそのままテストするよりも、新しい構造に合わせて段階的にリファクタリングすることを推奨します。理由は以下の通りです：

1. **インポートパスの問題**
   - 現在のoldsetディレクトリのコードは、同レベルのインポートを想定しており、パスの修正が多数必要

2. **新構造との整合性**
   - 新しい構造とテーマシステムへの移行を前提とするため、古いコードをそのまま動かすことにあまり意味がない

3. **開発効率**
   - 古いコードの修正に時間を使うより、新しい構造で最初から実装した方が効率的

## 代替アプローチ：コンポーネント単位での参照

oldsetディレクトリのコードは、新しいコンポーネントを作成する際の参考として使用することを推奨します：

1. **原則を抽出**
   - 既存コンポーネントの設計思想やパターンを理解し新実装に活かす

2. **特定機能の移植**
   - 特に複雑なロジックや処理は、必要に応じて新構造に適合するように移植

3. **再利用可能な型定義の活用**
   - 型定義は比較的そのまま再利用できる可能性が高い

## 次のステップ

1. 新しいフォルダ構造のセットアップを完了させる
2. コアコンポーネント（UniversalCard, BaseLayout, NavigationSystem）の実装を優先する
3. 必要に応じてoldsetのコードを参照しながら実装を進める